<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
   <head>
      <meta charset="UTF-8">
      <title>Upload One File</title>
      <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
   </head>
   
   <body>
      <th:block th:include="/_menu"></th:block>
       
      <h3>Upload One File:</h3>
       
      <!-- MyUploadForm -->
       
      <form th:object="${myUploadForm}" method="POST"
         th:action="/brands/save" enctype="multipart/form-data">
         Name:
         <br>
         <input th:field="*{name}" style="width:300px;"/>                
         <br/><br/>  
         File to upload: <input th:field="*{fileDatas}" type="file" name="fileImage" id="fileImage"/>
         <br />  
         <p>
         	<img id="thumbnail" src="" alt="Logo Preview" style="width: 200px" />
         </p>
         
         <input type="submit" value="Upload">
      </form>
       
   </body>
   

<!-- <script>
   document.getElementById("fileImage").onchange = function () {
    var reader = new FileReader();

    reader.onload = function (e) {
        // get loaded data and render thumbnail.
        document.getElementById("thumbnail").src = e.target.result;
    };

    // read the image file as a data URL.
    reader.readAsDataURL(this.files[0]);
};
</script> -->
<!-- Jquery Script For Preview File -->
<script type="text/javascript">
   $('#fileImage').change(function(){
   	var file = this.files[0];
   	if(file.type != "image/png" && file.type != "image/jpeg" && file.type != "image/gif")
   	{
   		alert("Please choose png, jpeg or gif files");
   		return false;
   	};
   	var reader = new FileReader();
   	reader.onload = function(e) {
   		$('#thumbnail').attr('src', e.target.result);
        
   	};
   	reader.readAsDataURL(file);
   });
</script>
</html>